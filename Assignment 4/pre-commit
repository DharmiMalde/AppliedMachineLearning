#!/bin/bash

branch=$(git rev-parse --abbrev-ref HEAD)

if [ "$branch" = "master" ]; then
    echo "ğŸ” Running tests before commit..."

    python test.py

    if [ $? -ne 0 ]; then
        echo "âŒ Tests failed. Commit aborted."
        exit 1
    fi

    echo "âœ… All tests passed. Proceeding with commit."
else
    echo "ğŸŸ¡ Not on master branch â€” skipping tests."
fi

exit 0
